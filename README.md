# WallGo - 围墙策略游戏

一个基于 React 和 TypeScript 开发的双人策略游戏，玩家通过放置棋子和建造墙壁来争夺棋盘区域的控制权。

## 🎮 游戏规则

### 游戏目标

通过智慧的棋子放置和墙壁建造，占领更多的棋盘区域来获得胜利。

### 游戏流程

#### 1. 棋子放置阶段

- 🔴 红方和 🔵 蓝方轮流在 7×7 棋盘上放置棋子
- 每位玩家最多可放置 4 个棋子
- 棋子不能放置在已被占用的格子上

#### 2. 移动阶段

玩家轮流进行回合，每个回合包含：

- **移动阶段**：必须移动己方棋子 2 步
  - 第一步：可以选择任意己方棋子移动
  - 第二步：必须继续移动同一个棋子（不能切换）
  - 棋子只能移动到相邻的空格子
  - 不能跨越墙壁移动

#### 3. 墙壁放置阶段

- 移动完成后，玩家必须在**最后移动的棋子周围**放置一堵墙
- 墙壁只能放在该棋子的上、下、左、右四条边中的一条
- 不能在棋盘最外围放置墙壁
- 不能在已有墙壁的位置重复放置

### 胜利条件

- 当所有**可到达**的格子都被染色时，游戏结束
- 区域染色规则：
  - 🔴 **红色区域**：只包含红方棋子的封闭区域
  - 🔵 **蓝色区域**：只包含蓝方棋子的封闭区域
  - ⚪ **中性区域**：同时包含红蓝棋子或无棋子的区域
- 被墙壁完全包围且无法到达的格子不参与计分
- 占领格子数更多的玩家获胜，相同则平局

## 🎯 游戏特色

- 📱 **响应式设计**：支持各种屏幕尺寸，自适应布局
- 🎨 **直观的视觉反馈**：
  - 区域自动染色显示归属
  - 可移动位置高亮提示
  - 可放置墙壁位置指示器
- 🔄 **实时游戏状态**：动态显示当前阶段和玩家回合
- 🏆 **胜利弹窗**：游戏结束时显示详细得分和胜负结果

## 🛠️ 技术栈

- **前端框架**：React 18 + TypeScript
- **状态管理**：React Context API
- **样式方案**：CSS Modules + CSS 变量
- **构建工具**：Create React App
- **算法实现**：
  - DFS（深度优先搜索）用于区域检测
  - BFS（广度优先搜索）用于可达性判断

## 🚀 快速开始

### 环境要求

- Node.js 16+
- npm 或 yarn

### 安装与运行

```bash
# 克隆项目
git clone <repository-url>
cd wallgo

# 安装依赖
npm install

# 启动开发服务器
npm start

# 在浏览器中打开 http://localhost:3000
```

### 构建生产版本

```bash
# 构建项目
npm run build

# 预览构建结果
npm run preview
```

## 📁 项目结构

```
src/
├── components/           # React 组件
│   ├── Board.tsx        # 游戏棋盘
│   ├── Cell.tsx         # 棋盘格子
│   ├── EdgeHorizontal.tsx  # 水平边界
│   ├── EdgeVertical.tsx    # 垂直边界
│   ├── Corner.tsx       # 角落装饰
│   ├── Indicator.tsx    # 游戏状态指示器
│   ├── GameOverModal.tsx   # 胜利弹窗
│   └── *.module.css     # 组件样式
├── context/             # React Context
│   └── GameContext.tsx  # 游戏状态管理
├── hooks/               # 自定义 Hooks
│   └── useResponsiveSize.ts  # 响应式尺寸
├── constants.ts         # 游戏常量
├── App.tsx             # 应用主组件
├── App.css             # 全局样式
└── index.tsx           # 应用入口
```

## 🎮 操作指南

### 棋子放置阶段

- 直接点击空格子放置棋子
- 红方和蓝方自动轮流

### 移动阶段

1. 点击己方棋子选中（会高亮显示）
2. 点击相邻的空格子移动
3. 继续移动同一个棋子完成第二步

### 墙壁放置阶段

- 在最后移动棋子周围会显示橘色指示器
- 点击指示器位置放置墙壁

### 游戏重置

- 游戏结束后点击"重新开始"按钮

## 🎨 响应式特性

- **动态尺寸计算**：格子大小 = (屏幕高度 - 指示器高度 - 边距) ÷ 8
- **边界厚度**：自动调整为格子大小的 1/8
- **多设备支持**：
  - 桌面端：完整功能体验
  - 平板：中等尺寸适配
  - 手机：紧凑布局，保持可用性
- **横屏适配**：小屏设备横屏时调整布局

## 🔧 自定义配置

### 修改游戏参数

```typescript
// src/constants.ts
export const MAX_PIECES_PER_PLAYER = 4; // 每人最大棋子数
export const RED_EDGE_COLOR = "#fd6666";  // 红方颜色
export const BLUE_EDGE_COLOR = "#575fff"; // 蓝方颜色
```

### 调整响应式断点

```css
/* src/App.css */
@media (max-height: 600px) {
  :root {
    --indicator-height: 40px;
    --padding: 16px;
  }
}
```

## 🐛 已知问题

- 某些极端屏幕尺寸下可能需要调整最小尺寸限制
- 旧版浏览器可能不支持 CSS 变量

## 🤝 贡献指南

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🎯 未来计划

- [ ]  添加 AI 对手
- [ ]  实现在线多人游戏
- [ ]  添加游戏历史记录
- [ ]  支持自定义棋盘大小
- [ ]  添加音效和动画
- [ ]  实现游戏回放功能

---

**享受游戏！** 🎉

如果你喜欢这个项目，请给它一个 ⭐️

```
